---
layout: post
title: Mirroring ftp site with lftp
date: '2008-03-15T10:05:00.004+08:00'
author: Fai Wong
tags:
- linux
modified_time: '2008-03-15T10:25:17.020+08:00'
thumbnail: http://3.bp.blogspot.com/_ZwYFGbHC6Q8/R9swW4AabwI/AAAAAAAABqs/D7THY2g9wLE/s72-c/lftp1.png
blogger_id: tag:blogger.com,1999:blog-8503500.post-6908110604701874195
blogger_orig_url: http://lazyfai.blogspot.com/2008/03/mirroring-ftp-site-with-lftp.html
---

XEPC.org has down due to data center power supply, I found that I need to find one more place to backup my XEPC.org software repository.<br />I applied a project on <a href="http://www.tuxfamily.org/">www.tuxfamily.org</a> and it has been approved.<br />But there is one difficult, it <span style="font-weight: bold;">only support ftp upload</span>, not rsync, so how can I do synchronization between my local mirror and tuxfamily mirror?<br />I tried <span style="font-weight: bold;">gftp</span> to upload, but as it is GUI tool, I cannot run it remotely on office machine (which is the local mirror). After researching, I found <span style="font-weight: bold;">lftp</span> has a mirror operation, which works very closed to rsync, the lftp mirror operation manual.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_ZwYFGbHC6Q8/R9swW4AabwI/AAAAAAAABqs/D7THY2g9wLE/s1600-h/lftp1.png"><img style="cursor: pointer;" src="http://3.bp.blogspot.com/_ZwYFGbHC6Q8/R9swW4AabwI/AAAAAAAABqs/D7THY2g9wLE/s320/lftp1.png" alt="" id="BLOGGER_PHOTO_ID_5177785366141890306" border="0" /></a><br /><br /><span style="font-weight: bold;">mirror [options] [remotedir [localdir] ]</span><br />Copy a directory exactly. The mirror command accepts the following arguments:<br /><span style="font-style: italic;">    -c, --continue</span><br />    If mirroring was interrupted, resume it.<br /><span style="font-style: italic;">    -e, --delete</span><br />    Delete local files that are not present at the remote site.<br /><span style="font-style: italic;">    -R, --reverse</span><br />    Mirror files from the local system to the remote system. With this argument, make sure that you specify the local directory first and the remote directory second. If you do not specify both directories, the second is assumed to be the same as the first. If you choose neither, the operation occurs in the current working directories.<br /><span style="font-style: italic;">    -L, --dereference</span><br />    When mirroring a link, download the file the link points to rather than just the link.<br /><span style="font-style: italic;">    -i, --include regex</span><br />    Get only the files whose names match the regular expression regex. See grep for more information about regular expressions.<br /><span style="font-style: italic;">    -x, --exclude regex</span><br />    Do not get the files whose names match regex. See grep for more information about regular expressions.<br /><span style="font-style: italic;">    -v, --verbose=n</span><br />    Set the verbose level. You can set n from 0 (no output) to 3 (full output) using a number or by repeating the v. For example, -vvv is level 3 verbose mode.<br /><span style="font-style: italic;">    --remove-source-files</span><br />    Move, rather than copy, files when mirroring.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_ZwYFGbHC6Q8/R9szboAabxI/AAAAAAAABq0/117B8ZGoffY/s1600-h/lftp.png"><img style="cursor: pointer;" src="http://2.bp.blogspot.com/_ZwYFGbHC6Q8/R9szboAabxI/AAAAAAAABq0/117B8ZGoffY/s320/lftp.png" alt="" id="BLOGGER_PHOTO_ID_5177788746281152274" border="0" /></a>