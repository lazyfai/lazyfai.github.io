---
layout: post
title: Third milestone finally
date: '2009-08-28T15:38:00.004+08:00'
author: Fai Wong
tags:
- linux
modified_time: '2009-08-28T15:50:27.922+08:00'
thumbnail: http://3.bp.blogspot.com/_ZwYFGbHC6Q8/SpeKqP-h_hI/AAAAAAAAFfU/_dngnpJnr8M/s72-c/gcc-4.4.1.png
blogger_id: tag:blogger.com,1999:blog-8503500.post-5945519765092346582
blogger_orig_url: http://lazyfai.blogspot.com/2009/08/third-milestone-finally.html
---

After many trials, I found that the machine architecture of MIPS/N32 is too special for packaging system. Like rpm or dpkg, they will expect a 64 bit kernel should be running 64 bit userland and when I build glibc/gcc, we should build both 32 bit and 64 bit versions.<br /><br />But the problem comes here, my gentoo based MIPS/N32 system is a 64 bit kernel with 32 bit (only) userland, that confuses rpm and dpkg, as it will try to build 64 bit userland (N64), 32 bit userland (O32) and native userland (N32), but at the same time my toolchain has just N32 capabilities, so we cannot directly build gcc/glibc using the Fedora 11 source.<br /><br />After some changes in platform parameters in rpmbuild and add some checking in the spec file, finally I built using a new architecture - mips64el-redhat-linux, and default to just build N32 binaries of gcc/glibc, so my 3rd milestone is reached now, glibc, binutils, gcc, perl, python all ready for use. Next is rebuilding of whole userland from shell to X.org.<br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://3.bp.blogspot.com/_ZwYFGbHC6Q8/SpeKqP-h_hI/AAAAAAAAFfU/_dngnpJnr8M/s1600-h/gcc-4.4.1.png"><img style="cursor: pointer; width: 400px; height: 287px;" src="http://3.bp.blogspot.com/_ZwYFGbHC6Q8/SpeKqP-h_hI/AAAAAAAAFfU/_dngnpJnr8M/s400/gcc-4.4.1.png" alt="" id="BLOGGER_PHOTO_ID_5374917138737921554" border="0" /></a><br /><br /><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://2.bp.blogspot.com/_ZwYFGbHC6Q8/SpeMKZ9beGI/AAAAAAAAFfc/izXTQX8wtFY/s1600-h/gcc-install.png"><img style="cursor: pointer; width: 400px; height: 298px;" src="http://2.bp.blogspot.com/_ZwYFGbHC6Q8/SpeMKZ9beGI/AAAAAAAAFfc/izXTQX8wtFY/s400/gcc-install.png" alt="" id="BLOGGER_PHOTO_ID_5374918790685096034" border="0" /></a>