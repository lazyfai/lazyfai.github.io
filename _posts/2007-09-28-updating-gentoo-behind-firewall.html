---
layout: post
title: Updating gentoo behind firewall
date: '2007-09-28T17:00:00.000+08:00'
author: Fai Wong
tags:
- linux
modified_time: '2007-09-28T17:02:04.439+08:00'
blogger_id: tag:blogger.com,1999:blog-8503500.post-463335590267267735
blogger_orig_url: http://lazyfai.blogspot.com/2007/09/updating-gentoo-behind-firewall.html
---

Adapted from gentoo forum...<br /><br />1. ) On the Gentoo machine, edit make.conf and change SYNC to:<br />SYNC="rsync://localhost:4040/gentoo-portage"<br /><br />2.) Make an ssh tunnel from your Gentoo box to the remote box to go to rsync.gentoo.org, i.e.<br />ssh -L 4040:rsync.gentoo.org:873 remote.host.com<br /><br />3.) Now rsync as usual from another prompt:<br />emerge --sync<br /><br />Instead of editing make.conf, we can use "export" to set SYNC environment variable before emerge --sync too.